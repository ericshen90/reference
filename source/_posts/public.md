---
title: 常见公共服务
date: 2022-12-04 10:50:43
icon: icon-style
background: bg-blue-900
tags:
    - dns
    - ip
    - ntp
categories:
    - 公共服务
intro: 用于系统设置的常见公共服务。
---



IP地址
--------------------


### IP 地址分类 {.col-span-2 .row-span-2}

| 类别 | 最大网络数    | IP地址范围                | 单个网段最大主机数 | 私有IP地址范围              |
| ---- | ------------- | ------------------------- | ------------------ | --------------------------- |
| A    | 126(2^7-2)    | 1.0.0.1-127.255.255.254   | 16777214           | 10.0.0.0-10.255.255.255     |
| B    | 16384(2^14)   | 128.0.0.1-191.255.255.254 | 65534              | 172.16.0.0-172.31.255.255   |
| C    | 2097152(2^21) | 192.0.0.1-223.255.255.254 | 254                | 192.168.0.0-192.168.255.255 |
{.show-header}

```

D类：是多播地址。该类IP地址的最前面为 1110，所以地址的网络号取值于224~239之间。一般用于多路广播用户。

E类：是保留地址。该类IP地址的最前面为 1111，所以地址的网络号取值于240~255之间。
```

### 公网 IP 地址检测
```bash
curl ip.sb
curl cip.cc
curl https://icanhazip.com/
curl http://checkip.amazonaws.com/
curl https://ip.hellobike.com/service/getIpInfo
```

### IP 地址库

- [http://ip.taobao.com](http://ip.taobao.com)
- [https://www.ipip.net/](https://www.ipip.net/)
- [http://www.cz88.net/ip/](http://www.cz88.net/ip/)
- [https://www.maxmind.com/en/geoip2-databases](https://www.maxmind.com/en/geoip2-databases)

Dns
--------------------


### IPv4 DNS  {.col-span-2 }

#### 公共 DNS 服务器 IP 地址

| 服务商                | 主 IP 地址      | 备用 IP 地址    |
| :-------------------- | :-------------- | --------------- |
| 114 DNS               | 114.114.114.114 | 114.114.115.115 |
| 阿里 AliDNS           | 223.5.5.5       | 223.6.6.6       |
| 百度 BaiduDNS         | 180.76.76.76    |                 |
| DNSPod DNS+           | 119.29.29.29    | 182.254.116.116 |
| CNNIC SDNS            | 1.2.4.8         | 210.2.4.8       |
| oneDNS                | 117.50.11.11    | 52.80.66.66     |
| DNS 派 电信/移动/铁通 | 101.226.4.6     | 218.30.118.6    |
| DNS 派 联通           | 123.125.81.6    | 140.207.198.6   |
| Cloudflare DNS        | 1.1.1.1         | 1.0.0.1         |
| Google DNS            | 8.8.8.8         | 8.8.4.4         |
| IBM Quad9             | 9.9.9.9         |                 |
| DNS.SB                | 185.222.222.222 | 185.184.222.222 |
| OpenDNS               | 208.67.222.222  | 208.67.220.220  |
{.show-header}
#### 全国各地电信 DNS 服务器 IP 地址

| 服务商       | 主 IP 地址      | 备用 IP 地址    |
| :----------- | :-------------- | --------------- |
| 安徽电信 DNS | 61.132.163.68   | 202.102.213.68  |
| 北京电信 DNS | 219.141.136.10  | 219.141.140.10  |
| 重庆电信 DNS | 61.128.192.68   | 61.128.128.68   |
| 福建电信 DNS | 218.85.152.99   | 218.85.157.99   |
| 甘肃电信 DNS | 202.100.64.68   | 61.178.0.93     |
| 广东电信 DNS | 202.96.128.86   | 202.96.128.166  |
|              | 202.96.134.33   | 202.96.128.68   |
| 广西电信 DNS | 202.103.225.68  | 202.103.224.68  |
| 贵州电信 DNS | 202.98.192.67   | 202.98.198.167  |
| 河南电信 DNS | 222.88.88.88    | 222.85.85.85    |
| 黑龙江电信   | 219.147.198.230 | 219.147.198.242 |
| 湖北电信 DNS | 202.103.24.68   | 202.103.0.68    |
| 湖南电信 DNS | 222.246.129.80  | 59.51.78.211    |
| 江苏电信 DNS | 218.2.2.2       | 218.4.4.4       |
|              | 61.147.37.1     | 218.2.135.1     |
| 江西电信 DNS | 202.101.224.69  | 202.101.226.68  |
| 内蒙古电信   | 219.148.162.31  | 222.74.39.50    |
| 山东电信 DNS | 219.146.1.66    | 219.147.1.66    |
| 陕西电信 DNS | 218.30.19.40    | 61.134.1.4      |
| 上海电信 DNS | 202.96.209.133  | 116.228.111.118 |
|              | 202.96.209.5    | 180.168.255.118 |
| 四川电信 DNS | 61.139.2.69     | 218.6.200.139   |
| 天津电信 DNS | 219.150.32.132  | 219.146.0.132   |
| 云南电信 DNS | 222.172.200.68  | 61.166.150.123  |
| 浙江电信 DNS | 202.101.172.35  | 61.153.177.196  |
|              | 61.153.81.75    | 60.191.244.5    |
{.show-header}
#### 全国各地联通 DNS 服务器 IP 地址

| 服务商       | 主 IP 地址 | 备用 IP 地址 |
| :----------- | :----------------- | ----------------------- |
| 北京联通 DNS | 123.123.123.123    | 123.123.123.124         |
|              | 202.106.0.20       | 202.106.195.68          |
| 重庆联通 DNS | 221.5.203.98       | 221.7.92.98             |
| 广东联通 DNS | 210.21.196.6       | 221.5.88.88             |
| 河北联通 DNS | 202.99.160.68      | 202.99.166.4            |
| 河南联通 DNS | 202.102.224.68     | 202.102.227.68          |
| 黑龙江联通   | 202.97.224.69      | 202.97.224.68           |
| 吉林联通 DNS | 202.98.0.68        | 202.98.5.68             |
| 江苏联通 DNS | 221.6.4.66         | 221.6.4.67              |
| 内蒙古联通   | 202.99.224.68      | 202.99.224.8            |
| 山东联通 DNS | 202.102.128.68     | 202.102.152.3           |
|              | 202.102.134.68     | 202.102.154.3           |
| 山西联通 DNS | 202.99.192.66      | 202.99.192.68           |
| 陕西联通 DNS | 221.11.1.67        | 221.11.1.68             |
| 上海联通 DNS | 210.22.70.3        | 210.22.84.3             |
| 四川联通 DNS | 119.6.6.6          | 124.161.87.155          |
| 天津联通 DNS | 202.99.104.68      | 202.99.96.68            |
| 浙江联通 DNS | 221.12.1.227       | 221.12.33.227           |
| 辽宁联通 DNS | 202.96.69.38       | 202.96.64.68            |
{.show-header}

#### 全国各地移动 DNS 服务器 IP 地址

| 服务商       | 主 IP 地址     | 备用  IP 地址 |
| :----------- | :----------------- | -------------- |
| 江苏移动 DNS | 221.131.143.69     | 112.4.0.55     |
| 安徽移动 DNS | 211.138.180.2      | 211.138.180.3  |
| 山东移动 DNS | 218.201.96.130     | 211.137.191.26 |
|{.show-header}|||

### 配置

```bash
cp /etc/resolv.conf{,-bak}
cat > /etc/resolv.conf <<EOF
nameserver 223.5.5.5
nameserver 223.6.6.6
EOF
```

### IPv6 DNS  {.col-span-2 }

#### 国内公共 IPv6 DNS 服务器 IP 地址

| 服务商                   |  主 IP 地址 |  备用 IP 地址 |
| ------------------------ | --------------------- | ----------------------- |
| 阿里 Alidns              | 2400:3200::1          | 2400:3200:baba::1       |
| 百度 DNS                 | 2400:da00::6666       |                         |
| 中国电信                 | 240e:4c:4008::1       | 240e:4c:4808::1         |
| 下一代互联网北京研究中心 | 240C::6666            | 240C::6644              |
| CNNIC IPv6 DNS           | 2001:dc7:1000::1      |                         |
{.show-header}

#### 国内教育网 IPv6 DNS 服务器 IP 地址

| 服务商             | 主 IP 地址              | 备用 IP 地址                  |
| ------------------ | ---------------------------------- | ----------------------------- |
| 北京邮电大学       | 2001:da8:202:10::36                | 2001:da8:202:10::37           |
| 上海交通大学       | 2001:da8:8000:1:202:120:2:100      | 2001:da8:8000:1:202:120:2:101 |
| 中科院网络信息中心 | 2001:cc0:2fff:1::6666              |                               |
| 北京交通大学       | 2001:da8:205:2060::188             |                               |
| 清华大学           | 2001:da8:ff:305:20c:29ff:fe1f:a92a |                               |
| 清华大学 TUNA 协会 | 2001:da8::666                      |                               |
| 北京科技大学       | 2001:da8:208:10::6                 |                               |
| 科技网             | 2001:cc0:2fff:2::6                 |                               |
|{.show-header}|||

#### 国外知名公共 IPv6 DNS 服务器 IP 地址

| 服务商     |  主 IP 地址 |  备用 IP 地址 |
| ---------- | --------------------- | ----------------------- |
| Google     | 2001:4860:4860::8888  | 2001:4860:4860::8844    |
| Cloudflare | 2606:4700:4700::1111  | 2606:4700:4700::1001    |
| OpenDNS    | 2620:0:ccc::2         | 2620:0:ccd::2           |
| Quad9      | 2620:fe::fe           | 2620:fe::9              |
| Neustar    | 2610:a1:1018::1       | 2610:a1:1019::1         |
|            | 2610:a1:1018::5       | 2610:a1:1019::1         |
{.show-header}

DNS OVER TLS
--------------------

### ipv4 DNS  {.col-span-2 }

| 服务商     | 主 IP 地址          | 备用 IP 地址        |
| ---------- | ------------------- | ------------------- |
| dns.sb     | 185.222.222.222@853 | 185.184.222.222@853 |
| Quad9      | 9.9.9.9@853         | 9.9.9.10@853        |
| Cloudflare | 1.1.1.1@853         | 1.0.0.1@853         |
| Google     | 8.8.8.8@853         | 8.8.4.4@853         |
{.show-header}
### ipv6 DNS  {.col-span-2 }

| 服务商     | 主 IP 地址           | 备用 IP 地址         |
| ---------- | -------------------- | -------------------- |
| dns.sb     | 2a09::@853           | 2a09::1@853          |
| Quad9      | 2620:fe::fe@853      | 2620:fe::10@853      |
| Cloudflare | 2606:4700:4700::1111 | 2606:4700:4700::1001 |
| Google     | 2001:4860:4860::8888 | 2001:4860:4860::8844 |
{.show-header}

DNS OVER HTTPS
--------------------

### HTTPS {.col-span-3 }

| 服务商     | HTTPS                                                          |
| ---------- | -------------------------------------------------------------- |
| dns.sb     | https://doh.dns.sb/dns-query                                   |
| Quad9      | https://dns.quad9.net/dns-query                                |
| Cloudflare | https://cloudflare-dns.com/dns-query https://1.1.1.1/dns-query |
| Google     | https://dns.google/dns-query                                   |
| alidns     | https://dns.alidns.com/dns-query                               |
{.show-header}

```bash
curl -H 'accept: application/dns-json' 'https://cloudflare-dns.com/dns-query?name=baidu.com&type=AAAA'
```

NTP
--------------------


### 国内知名公共 NTP 服务器地址 {.col-span-2 .row-span-2}

| 服务商                | 地址                                                         |
| --------------------- | ------------------------------------------------------------ |
| 国家授时中心          | ntp.ntsc.ac.cn                                               |
| 中国 NTP 快速授时服务 | cn.ntp.org.cn                                                |
| 教育网                | edu.ntp.org.cn                                               |
| 教育网（高校自建）    | ntp.sjtu.edu.cn<br />ntp.neu.edu.cn<br />ntp.bupt.edu.cn<br />ntp.shu.edu.cn |
| 国际 NTP 快速授时服务 | cn.pool.ntp.org                                              |
| 阿里云                | time.pool.aliyun.com(windows)<br />time1-7.aliyun.com(unix)  |
| 腾讯云                | time1-5.cloud.tencent.com                                    |
| 苹果                  | time1-7.apple.com                                            |
| 亚洲 NTP 地址         | 0.cn.pool.ntp.org<br/>1.cn.pool.ntp.org<br/>0.asia.pool.ntp.org<br/>1.asia.pool.ntp.org<br/>0.centos.pool.ntp.org<br/>1.centos.pool.ntp.org |
{.show-header}

### ntp 配置

```bash
cp /etc/ntp.conf{,-bak}
cat > /etc/ntp.conf <<EOF
driftfile /var/lib/ntp/drift
server 1.cn.pool.ntp.org
server 0.asia.pool.ntp.org
server 2.asia.pool.ntp.org
EOF
systemctl restart ntpd
```

### chrony 配置

```bash
cp /etc/chrony.conf{,-bak}
cat > /etc/chrony.conf <<EOF
server 0.cn.pool.ntp.org iburst
server 1.cn.pool.ntp.org iburst
server 0.asia.pool.ntp.org iburst
server 1.asia.pool.ntp.org iburst
server 0.centos.pool.ntp.org iburst
server 1.centos.pool.ntp.org iburst
driftfile /var/lib/chrony/drift
makestep 1.0 3
rtcsync
logdir /var/log/chrony
EOF
systemctl restart chronyd
```